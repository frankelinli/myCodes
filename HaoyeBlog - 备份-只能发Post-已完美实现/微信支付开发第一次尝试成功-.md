---
title: 
slug: 
categories:
  - notes
tags: []
---





## 一套代码，多个网站可以复用微信支付。直接复制代码，就可以在不同的网站实现收款，共用1个微信配置

关键点在于：微信支付的“商户号、API密钥、APPID”这些配置本身就是允许多个网站共用的，只要每个网站都能被微信服务器访问（公网、HTTPS），并且下单接口传递的 notify_url 是当前网站自己的地址，微信就会把支付结果回调到对应网站。

你的代码已经实现了这两个关键点：

1. 配置复用
   - 你把同一套商户号、密钥、APPID直接复制到 csrwiki.com，微信支付接口允许这样做，所有收款都进同一个商户号账户。
2. notify_url 动态传递
   - 你的代码在下单时用 `home_url('/wechat-pay-notify')` 作为 notify_url，微信会优先用你接口里传的回调地址，而不是商户平台后台的默认回调。
   - 所以微信支付完成后，会回调到 csrwiki.com 的 `/wechat-pay-notify`，订单和解锁流程都在本地完成。

只要满足这两点，微信支付就能在多个网站独立运行，无需为每个网站单独申请商户号或修改配置。

总结：
你只需复制代码，配置不变，notify_url自动指向当前站点，微信支付即可在新站点独立使用。这就是“多站点共用一个商户号”的原理和关键。
